trigger:
- master

pool:
  name: WindowVm

steps:
- script: echo Hello, world!
  displayName: 'Run a one-line script'

# Add steps to build your project
- task: Maven@3
  inputs:
    mavenPomFile: 'pom.xml'
    mavenOptions: '-Xmx3072m'
    javaHomeOption: 'JDKVersion'
    jdkVersionOption: '11'
    jdkArchitectureOption: 'x64'
    goals: 'clean package'

# Add steps to run tests (if applicable)

# Add steps to deploy to Azure
- task: AzureRmWebAppDeployment@4
  inputs:
    ConnectionType: 'AzureRM'
    azureSubscription: 'Pay-As-You-Go(3f9425f7-b0f9-40b7-9c23-beca0c6a8610)'
    appType: 'webApp'
    WebAppName: 'azuredb2-web-app'
    package: '$(System.DefaultWorkingDirectory)/target/sampleapp.war' # Use 'package' instead of 'packageForLinux' on Windows
